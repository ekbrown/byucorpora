# byucorpora
The purpose of this R package is to webscrape keyword-in-context (KWIC) results of some of the Brigham Young University (BYU) [corpora](http://corpus.byu.edu/), created by [Mark Davies](http://davies-linguistics.byu.edu/personal/). 

## Install
> install.packages("devtools")  # if not already on the user's computer  
> library("devtools")  
> install_github("ekbrown/byucorpora")  

## Set email and password
The function `set_credentials` sets the email and associated password to be used for queries on the corpora during the current R session. If users aren't sure which email they used when registering for the BYU corpora, they can visit [corpus.byu.edu](http://corpus.byu.edu/login.asp) in order to figure it out. The function `get_credentials` returns the email currently set to be used for queries.

## Search functions

### Search the Corpus of Contemporary American English (COCA)
The function `search_coca` retrieves keyword-in-context results from the COCA. The argument `search_terms` takes a string, or a vector of strings, to be searched for, for example, `search_terms = "dude"` or `search_terms = c("dude", "narly")`. It should be noted that the COCA doesn't handle apostrophes in a way one might expect. For example, users can't directly search for `"I don't know"`, instead, they must transform it to `"I do n't know"`. If users have apostrophes in a search string, they should take a minute to manually search for it in a web browser to work out the exact syntax before specifying it in this function. The argument `section` specifies the section or sections of the COCA to search in. Options include `"all"` for all sections, `"spok"` for the spoken section (the default), `"fict"` for fiction, `"mag"` for magazine, `"news"` for newspaper, `"acad"` for academic. The argument `max_type` takes an integer and specifies the maximum number of unique types to return for each search string (results shown in the upper right portion of the COCA in a web browser). For example, searching for nouns with the search string `"[n*]"` could potentially return tens of thousands of unique types, but a user may only be interested in the 100 most frequent ones. The argument `max_per_term` specifies the maximum number of results to return for each search string. The argument `max_total_result` specifies the specifies the maximum number of total results to return. This number should be equal to or smaller than users' keyword-in-context view limit imposed by their category of researcher in their profile with the BYU corpora.

### Search the Corpus del Espa√±ol (CDE)
The function `search_cde` retrieves keyword-in-context results from the CDE. The argument `search_terms` takes a string, or a vector of strings, to be searched for, for example, `search_terms = "mujer"` or `search_terms = c("mujer", "hombre")`. The argument `section` specifies the section or sections of the CDE to search in, specified by a one-hundred-year period or periods, for example, `section = "1900s"` or `section = c("1900s", "1800s")`. Specific genres of the 1900s can be specified with `"oral"` for the oral section, `"fict"` for fiction, `"news"` for news, and `"acad"` for academic. Additionally, a combination of genres and/or one hundred year periods can be specified, for example, `c("1200s", "1500s", "1800s")` or `c("news", "acad")`. The argument `max_type` takes an integer and specifies the maximum number of unique types to return for each search string (results shown in the upper right portion of the CDE in a web browser). For example, searching for nouns with the search string `"[n*]"` could potentially return tens of thousands of unique types, but a user may only be interested in the 100 most frequent ones. The argument `max_per_term` specifies the maximum number of results to return for each search string. The argument `max_total_result` specifies the specifies the maximum number of total results to return. This number should be equal to or smaller than users' keyword-in-context view limit imposed by their category of researcher in their profile with the BYU corpora.

#### Output of search functions
The output of the search functions is a data frame. This data frame, as with any data frame, can be viewed with R by typing the name of the data frame at the console, or by using View(dfname) (where dfname is replaced by the actual variable name). Further, the data frame can be saved to the hard drive of the user's computer (for example, with `write.table` or `readr::write_csv`) and then imported into a spreadsheet for further analysis.
